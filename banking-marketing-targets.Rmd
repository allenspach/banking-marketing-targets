---
title: "banking-marketing-targets"
author: "Victor"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

# 0- Starting point

## 0.1- Installing packages

```{r}
install.packages("tidyverse")
```

# 1- Importing packages

```{r}
library(tidyverse)
```

# 2- Data loading

```{r}
# Lendo base de dados
df <- read_delim("test.csv")
```

```{r}
# Visualizando os dados
df %>% View
```

```{r}
View(df)
```

```{r}
df %>% glimpse
```

```{r}
# Visualizando as n primeiras linhas
df %>% head(3)
```

```{r}
# Data type
tibble(features=colnames(df), data_type=unlist(lapply(df,typeof)))
```

```{r}
# Data dimension
tibble(dimension=unlist(list("rows", "columns")),count=c(dim(df)[1],dim(df)[2]))
```

```{r}
# Sum of NANs
tibble(variable=colnames(df), number_of_missing=colSums(is.na(df)))
```

```{r}
# Sum of NANs
tibble(variable=df %>% colnames,
       number_of_missing = df %>% is.na %>% colSums)
```

```{r}
df %>% 
  rename(has_credit=default,
         last_contact=day,
         response=y) %>% 
  mutate(response=ifelse(response=="yes",1,0),
         housing=ifelse(housing=="yes",1,0),
         loan=ifelse(loan=="yes",1,0),
         has_credit=ifelse(has_credit=="yes",1,0),
         marital=ifelse(marital=="married",1,0),)
```

```{r}
df %>% select(education) %>% unique()
```

```{r}
df %>% 
  select(poutcome) %>% 
  count(poutcome) %>% 
  rename(contagem = n) %>% 
  mutate(prop=contagem/sum(contagem)*100) %>% 
  select(poutcome,prop)
```

# 3- EDA (Exploratory Data Analysis)

# 4- Data preparation

# 5- Machine Learning

# 6- Model evaluation

# 7- Rascunhos

-   Transformar o mes do ano em numeral

-   Coluna default, housing e loan: 1 para "yes" e 0 para "no"

-   Remover education = unknown
